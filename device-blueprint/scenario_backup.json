{
  "devices": [
    {
      "title": "Coffee-machine",
      "description": "A smart coffee machine with a range of capabilities",
      "properties": {
        "temperature": {
          "type": "number",
          "description": "Current temperature of the coffee machine",
          "startValue": 0
        }
      },
      "actions": {
        "brew_coffee": {
          "description": "Sets the temperature of the coffee machine using an action",
            "temperature": {
              "type": "integer",
              "description": "Temperature to set the coffee machine to",
              "minimum": 0,
              "maximum": 100
            },
          "action_list": [
            {
              "action_type": "set",
              "property": "temperature",
              "value": 97
            }
          ]
        }
      },
      "events": {
        "isHot": {
          "description": "Temperature set event",
          "data": {
            "type": "string"
          }
        }
      }
    },
    {
      "title": "Smart Kettle",
      "description": "A smart water-boiler with a range of capabilities",
      "properties": {
        "temperature": {
          "type": "number",
          "description": "Current temperature of the coffee machine",
          "startValue": 0
        }
      },
      "actions": {
        "makeHotWater": {
          "description": "Sets the temperature of the coffee machine using an action",
          "action_list": [
            {
              "action_type": "set",
              "property": "temperature",
              "value": 97
            },
            {
              "action_type": "increment",
              "property": "temperature",
              "value": 1
            },
            {
              "action_type": "sleep",
              "value": 4
            },
            {
              "action_type": "emit_event",
              "event_name": "temperatureSet",
              "payload_property": "temperature"
            },
            {
              "action_type": "condition",
              "property": "temperature",
              "condition": {
                "operator": ">",
                "value": 99,
                "action_list_true": [
                  {
                    "action_type": "emit_event",
                    "event_name": "temperatureSet"
                  }
                ]
              }
            }
          ]
        }
      },
      "events": {
        "isHot": {
          "description": "Temperature set event",
          "data": {
            "type": "string"
          }
        }
      }
    }
  ],
  "externalDevices": [
    "http://plugfest.thingweb.io:8083/smart-coffee-machine"
  ]
}